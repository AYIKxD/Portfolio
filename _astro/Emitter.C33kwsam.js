class f{constructor(){this.events=[]}on(t,e,s,i=!1){this.events[t]||(this.events[t]=[]);let n=!1;this.events[t].forEach(c=>{if(c.cb===e&&c.context===s){n=!0;return}}),!n&&this.events[t].push({cb:e,context:s,once:i})}once(t,e,s){this.on(t,e,s,!0)}emit(t){const e=this,s=[].slice.call(arguments,1);this.events[t]&&this.events[t].forEach((i,n)=>{i.cb.apply(i.context,s),i.once&&delete e.events[t][n]})}off(t,e,s){const i=this;this.events[t]&&this.events[t].forEach((n,c)=>{n.cb===e&&n.context===s&&delete i.events[t][c]})}}const o=new f;export{o as E};
