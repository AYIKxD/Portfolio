import{a as e}from"./index.C3eB1ZX_.js";import{S as a}from"./ScrollTrigger.C4gmGO9R.js";e.registerPlugin(a);class n{el;list;items;progressFill;markers;counter;particles;constructor(){this.el=document.querySelector(".s-philosophy"),this.list=this.el.querySelector(".js-list"),this.items=e.utils.toArray(".s-philosophy .quote"),this.progressFill=this.el.querySelector(".js-progress-fill"),this.markers=this.el.querySelectorAll(".marker"),this.counter=this.el.querySelector(".js-counter-current"),this.particles=this.el.querySelectorAll(".particle"),this.initAnimations(),this.initParticles()}initParticles(){this.particles.forEach((t,i)=>{e.to(t,{y:"random(-50, 50)",x:"random(-30, 30)",duration:"random(3, 6)",repeat:-1,yoyo:!0,ease:"sine.inOut",delay:i*.2})})}initAnimations(){const t=this.items.length;e.timeline({scrollTrigger:{trigger:this.el,start:"top 80px",end:`+=${t*100}%`,scrub:.5,pin:!0,pinSpacing:!0,onUpdate:s=>{e.to(this.progressFill,{scaleY:s.progress,duration:.1});const r=Math.min(Math.floor(s.progress*t),t-1);this.counter.textContent=String(r+1).padStart(2,"0"),this.markers.forEach((l,o)=>{l.classList.toggle("is-active",o<=r),l.classList.toggle("is-current",o===r)})}}}).to(this.items,{stagger:.5,opacity:1,y:0,filter:"blur(0px)",scale:1}).to(this.items,{stagger:.5,opacity:s=>s<t-1?.15:1,filter:s=>s<t-1?"blur(3px)":"blur(0px)",scale:s=>s<t-1?.98:1},.5)}}new n;
